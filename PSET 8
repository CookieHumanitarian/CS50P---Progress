# Had to convert a date a user inputs to seconds for the current date. One of the worst assignements in terms of passing the check as it contradicts what
# is stated in the instructions. Nightmare.


#prompt user for date and print out how many minutes it has been since then
#assume that the time stays the same at midnight 00:00
#check for invalid input
#Use inflect.py to join words in output in class

from datetime import date, timedelta, datetime
import sys
import inflect

p = inflect.engine()

def check(u_input):
    try:
        year, month, day = u_input.split("-")
    except ValueError:
        sys.exit("Input Proper Format")

    if int(month) < 1 or int(month) > 12:
        sys.exit("Wrong month")
    if int(day) < 1 or int(day) > 31:
        sys.exit("Wrong day")


    u_input = date(int(year), int(month), int(day))
    today = date.today()

    lapse = u_input - today
    seconds = timedelta.total_seconds(lapse)
    unrounded = int(seconds) / 60
    rounded = abs(round(int(unrounded)))
    min = p.number_to_words(rounded, andword='')
    return f"{min.capitalize()} minutes"



def main():
    print(get_input())

def get_input():
    u_input = input("Date of Birth: ")
    return check(u_input)




if __name__ == "__main__":
    main()


#2. Had to implement a class take takes in subtraction and addition
class Jar:
    def __init__(self, capacity=12):
        if capacity < 0:
            raise ValueError

        self._capacity = capacity
        self._size = 0

    def __str__(self):
        return "🍪" * self.size

    def deposit(self, n):
        self.size = self.size + n
        if self.size > self.capacity:
            raise ValueError

    def withdraw(self, n):
        self.size = self.size - self.size
        if self.size < self.capacity:
            raise ValueError

    @property
    def capacity(self):
        return self._capacity

    @property
    def size(self):
        return self._size


